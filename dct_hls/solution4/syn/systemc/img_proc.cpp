// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2017.4
// Copyright (C) 1986-2017 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

#include "img_proc.h"
#include "AESL_pkg.h"

using namespace std;

namespace ap_rtl {

const sc_logic img_proc::ap_const_logic_1 = sc_dt::Log_1;
const sc_logic img_proc::ap_const_logic_0 = sc_dt::Log_0;
const sc_lv<10> img_proc::ap_ST_fsm_state1 = "1";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage0 = "10";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage1 = "100";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage2 = "1000";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage3 = "10000";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage4 = "100000";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage5 = "1000000";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage6 = "10000000";
const sc_lv<10> img_proc::ap_ST_fsm_pp0_stage7 = "100000000";
const sc_lv<10> img_proc::ap_ST_fsm_state20 = "1000000000";
const sc_lv<32> img_proc::ap_const_lv32_0 = "00000000000000000000000000000000";
const bool img_proc::ap_const_boolean_1 = true;
const sc_lv<32> img_proc::ap_const_lv32_1 = "1";
const bool img_proc::ap_const_boolean_0 = false;
const sc_lv<1> img_proc::ap_const_lv1_0 = "0";
const sc_lv<32> img_proc::ap_const_lv32_2 = "10";
const sc_lv<32> img_proc::ap_const_lv32_3 = "11";
const sc_lv<32> img_proc::ap_const_lv32_4 = "100";
const sc_lv<32> img_proc::ap_const_lv32_5 = "101";
const sc_lv<32> img_proc::ap_const_lv32_6 = "110";
const sc_lv<32> img_proc::ap_const_lv32_7 = "111";
const sc_lv<32> img_proc::ap_const_lv32_8 = "1000";
const sc_lv<1> img_proc::ap_const_lv1_1 = "1";
const sc_lv<16> img_proc::ap_const_lv16_0 = "0000000000000000";
const sc_lv<16> img_proc::ap_const_lv16_9C40 = "1001110001000000";
const sc_lv<16> img_proc::ap_const_lv16_1 = "1";
const sc_lv<4> img_proc::ap_const_lv4_0 = "0000";
const sc_lv<2> img_proc::ap_const_lv2_0 = "00";
const sc_lv<22> img_proc::ap_const_lv22_2 = "10";
const sc_lv<22> img_proc::ap_const_lv22_3 = "11";
const sc_lv<22> img_proc::ap_const_lv22_320 = "1100100000";
const sc_lv<22> img_proc::ap_const_lv22_321 = "1100100001";
const sc_lv<22> img_proc::ap_const_lv22_322 = "1100100010";
const sc_lv<22> img_proc::ap_const_lv22_323 = "1100100011";
const sc_lv<22> img_proc::ap_const_lv22_640 = "11001000000";
const sc_lv<22> img_proc::ap_const_lv22_641 = "11001000001";
const sc_lv<22> img_proc::ap_const_lv22_642 = "11001000010";
const sc_lv<22> img_proc::ap_const_lv22_643 = "11001000011";
const sc_lv<22> img_proc::ap_const_lv22_960 = "100101100000";
const sc_lv<22> img_proc::ap_const_lv22_961 = "100101100001";
const sc_lv<16> img_proc::ap_const_lv16_C8 = "11001000";
const sc_lv<22> img_proc::ap_const_lv22_962 = "100101100010";
const sc_lv<22> img_proc::ap_const_lv22_963 = "100101100011";
const sc_lv<32> img_proc::ap_const_lv32_9 = "1001";

img_proc::img_proc(sc_module_name name) : sc_module(name), mVcdFile(0) {
    grp_add_watermark_fu_386 = new add_watermark("grp_add_watermark_fu_386");
    grp_add_watermark_fu_386->ap_clk(ap_clk);
    grp_add_watermark_fu_386->ap_rst(ap_rst);
    grp_add_watermark_fu_386->indata_0_read(indata_0_reg_830);
    grp_add_watermark_fu_386->indata_1_read(indata_1_reg_835);
    grp_add_watermark_fu_386->indata_2_read(indata_2_reg_865);
    grp_add_watermark_fu_386->indata_3_read(indata_3_reg_870);
    grp_add_watermark_fu_386->indata_4_read(indata_4_reg_895);
    grp_add_watermark_fu_386->indata_5_read(indata_5_reg_900);
    grp_add_watermark_fu_386->indata_6_read(indata_6_reg_925);
    grp_add_watermark_fu_386->indata_7_read(indata_7_reg_930);
    grp_add_watermark_fu_386->indata_8_read(indata_8_reg_955);
    grp_add_watermark_fu_386->indata_9_read(indata_9_reg_960);
    grp_add_watermark_fu_386->indata_10_read(indata_10_reg_985);
    grp_add_watermark_fu_386->indata_11_read(indata_11_reg_990);
    grp_add_watermark_fu_386->indata_12_read(indata_12_reg_1020);
    grp_add_watermark_fu_386->indata_13_read(indata_13_reg_1025);
    grp_add_watermark_fu_386->indata_14_read(img_q0);
    grp_add_watermark_fu_386->indata_15_read(img_q1);
    grp_add_watermark_fu_386->mark(mark_load_reg_860);
    grp_add_watermark_fu_386->ap_return_0(grp_add_watermark_fu_386_ap_return_0);
    grp_add_watermark_fu_386->ap_return_1(grp_add_watermark_fu_386_ap_return_1);
    grp_add_watermark_fu_386->ap_return_2(grp_add_watermark_fu_386_ap_return_2);
    grp_add_watermark_fu_386->ap_return_3(grp_add_watermark_fu_386_ap_return_3);
    grp_add_watermark_fu_386->ap_return_4(grp_add_watermark_fu_386_ap_return_4);
    grp_add_watermark_fu_386->ap_return_5(grp_add_watermark_fu_386_ap_return_5);
    grp_add_watermark_fu_386->ap_return_6(grp_add_watermark_fu_386_ap_return_6);
    grp_add_watermark_fu_386->ap_return_7(grp_add_watermark_fu_386_ap_return_7);
    grp_add_watermark_fu_386->ap_return_8(grp_add_watermark_fu_386_ap_return_8);
    grp_add_watermark_fu_386->ap_return_9(grp_add_watermark_fu_386_ap_return_9);
    grp_add_watermark_fu_386->ap_return_10(grp_add_watermark_fu_386_ap_return_10);
    grp_add_watermark_fu_386->ap_return_11(grp_add_watermark_fu_386_ap_return_11);
    grp_add_watermark_fu_386->ap_return_12(grp_add_watermark_fu_386_ap_return_12);
    grp_add_watermark_fu_386->ap_return_13(grp_add_watermark_fu_386_ap_return_13);
    grp_add_watermark_fu_386->ap_return_14(grp_add_watermark_fu_386_ap_return_14);
    grp_add_watermark_fu_386->ap_return_15(grp_add_watermark_fu_386_ap_return_15);

    SC_METHOD(thread_ap_clk_no_reset_);
    dont_initialize();
    sensitive << ( ap_clk.pos() );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage0);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage1);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage2);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage3);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage4);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage5);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage6);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_pp0_stage7);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_state1);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_CS_fsm_state20);
    sensitive << ( ap_CS_fsm );

    SC_METHOD(thread_ap_block_pp0_stage0);

    SC_METHOD(thread_ap_block_pp0_stage0_11001);

    SC_METHOD(thread_ap_block_pp0_stage0_subdone);

    SC_METHOD(thread_ap_block_pp0_stage1);

    SC_METHOD(thread_ap_block_pp0_stage1_11001);

    SC_METHOD(thread_ap_block_pp0_stage1_subdone);

    SC_METHOD(thread_ap_block_pp0_stage2);

    SC_METHOD(thread_ap_block_pp0_stage2_11001);

    SC_METHOD(thread_ap_block_pp0_stage2_subdone);

    SC_METHOD(thread_ap_block_pp0_stage3);

    SC_METHOD(thread_ap_block_pp0_stage3_11001);

    SC_METHOD(thread_ap_block_pp0_stage3_subdone);

    SC_METHOD(thread_ap_block_pp0_stage4);

    SC_METHOD(thread_ap_block_pp0_stage4_11001);

    SC_METHOD(thread_ap_block_pp0_stage4_subdone);

    SC_METHOD(thread_ap_block_pp0_stage5);

    SC_METHOD(thread_ap_block_pp0_stage5_11001);

    SC_METHOD(thread_ap_block_pp0_stage5_subdone);

    SC_METHOD(thread_ap_block_pp0_stage6);

    SC_METHOD(thread_ap_block_pp0_stage6_11001);

    SC_METHOD(thread_ap_block_pp0_stage6_subdone);

    SC_METHOD(thread_ap_block_pp0_stage7);

    SC_METHOD(thread_ap_block_pp0_stage7_11001);

    SC_METHOD(thread_ap_block_pp0_stage7_subdone);

    SC_METHOD(thread_ap_block_state10_pp0_stage0_iter1);

    SC_METHOD(thread_ap_block_state11_pp0_stage1_iter1);

    SC_METHOD(thread_ap_block_state12_pp0_stage2_iter1);

    SC_METHOD(thread_ap_block_state13_pp0_stage3_iter1);

    SC_METHOD(thread_ap_block_state14_pp0_stage4_iter1);

    SC_METHOD(thread_ap_block_state15_pp0_stage5_iter1);

    SC_METHOD(thread_ap_block_state16_pp0_stage6_iter1);

    SC_METHOD(thread_ap_block_state17_pp0_stage7_iter1);

    SC_METHOD(thread_ap_block_state18_pp0_stage0_iter2);

    SC_METHOD(thread_ap_block_state19_pp0_stage1_iter2);

    SC_METHOD(thread_ap_block_state2_pp0_stage0_iter0);

    SC_METHOD(thread_ap_block_state3_pp0_stage1_iter0);

    SC_METHOD(thread_ap_block_state4_pp0_stage2_iter0);

    SC_METHOD(thread_ap_block_state5_pp0_stage3_iter0);

    SC_METHOD(thread_ap_block_state6_pp0_stage4_iter0);

    SC_METHOD(thread_ap_block_state7_pp0_stage5_iter0);

    SC_METHOD(thread_ap_block_state8_pp0_stage6_iter0);

    SC_METHOD(thread_ap_block_state9_pp0_stage7_iter0);

    SC_METHOD(thread_ap_condition_pp0_exit_iter0_state2);
    sensitive << ( tmp_fu_409_p2 );

    SC_METHOD(thread_ap_done);
    sensitive << ( ap_CS_fsm_state20 );

    SC_METHOD(thread_ap_enable_pp0);
    sensitive << ( ap_idle_pp0 );

    SC_METHOD(thread_ap_idle);
    sensitive << ( ap_start );
    sensitive << ( ap_CS_fsm_state1 );

    SC_METHOD(thread_ap_idle_pp0);
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );

    SC_METHOD(thread_ap_phi_mux_mark_idx_phi_fu_368_p4);
    sensitive << ( mark_idx_reg_364 );
    sensitive << ( tmp_reg_772 );
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( mark_idx_1_reg_776 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_block_pp0_stage0 );

    SC_METHOD(thread_ap_phi_mux_tmp_49_phi_fu_379_p4);
    sensitive << ( tmp_49_reg_375 );
    sensitive << ( tmp_reg_772 );
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( idx_urem_reg_1015 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_block_pp0_stage0 );

    SC_METHOD(thread_ap_ready);
    sensitive << ( ap_CS_fsm_state20 );

    SC_METHOD(thread_base_idx_cast_fu_475_p1);
    sensitive << ( base_idx_fu_469_p2 );

    SC_METHOD(thread_base_idx_fu_469_p2);
    sensitive << ( tmp_6_cast_cast_fu_465_p1 );
    sensitive << ( tmp_5_cast_fu_449_p1 );

    SC_METHOD(thread_idx_urem_fu_673_p3);
    sensitive << ( next_urem_reg_781 );
    sensitive << ( tmp_48_fu_668_p2 );

    SC_METHOD(thread_img_address0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( tmp_7_fu_479_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( tmp_11_fu_509_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( tmp_15_fu_537_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( tmp_19_fu_565_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( tmp_23_fu_593_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( tmp_27_fu_621_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( tmp_31_fu_649_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( tmp_35_fu_689_p1 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage7 );

    SC_METHOD(thread_img_address1);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( tmp_9_fu_490_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( tmp_13_fu_523_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( tmp_17_fu_551_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( tmp_21_fu_579_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( tmp_25_fu_607_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( tmp_29_fu_635_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( tmp_33_fu_663_p1 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( tmp_37_fu_703_p1 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage7 );

    SC_METHOD(thread_img_ce0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage1_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage2_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage3_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage4_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage5_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage6_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );

    SC_METHOD(thread_img_ce1);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage1_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage2_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage3_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage4_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage5_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage6_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );

    SC_METHOD(thread_mark_address0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( tmp_38_fu_495_p1 );

    SC_METHOD(thread_mark_ce0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_enable_reg_pp0_iter0 );

    SC_METHOD(thread_mark_idx_1_fu_415_p2);
    sensitive << ( ap_phi_mux_mark_idx_phi_fu_368_p4 );

    SC_METHOD(thread_mark_idx_cast_fu_427_p1);
    sensitive << ( ap_phi_mux_mark_idx_phi_fu_368_p4 );

    SC_METHOD(thread_next_urem_fu_421_p2);
    sensitive << ( ap_phi_mux_tmp_49_phi_fu_379_p4 );

    SC_METHOD(thread_out_r_address0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_reg_pp0_iter1_tmp_7_reg_805 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_reg_pp0_iter1_tmp_11_reg_840 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_reg_pp0_iter1_tmp_15_reg_875 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_reg_pp0_iter1_tmp_19_reg_905 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_reg_pp0_iter1_tmp_23_reg_935 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_reg_pp0_iter1_tmp_27_reg_965 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_reg_pp0_iter1_tmp_31_reg_995 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_reg_pp0_iter1_tmp_35_reg_1030 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage7 );

    SC_METHOD(thread_out_r_address1);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_reg_pp0_iter1_tmp_9_reg_815 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_reg_pp0_iter1_tmp_13_reg_850 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_reg_pp0_iter1_tmp_17_reg_885 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_reg_pp0_iter1_tmp_21_reg_915 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_reg_pp0_iter1_tmp_25_reg_945 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_reg_pp0_iter1_tmp_29_reg_975 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_reg_pp0_iter1_tmp_33_reg_1005 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_reg_pp0_iter1_tmp_37_reg_1040 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage7 );

    SC_METHOD(thread_out_r_ce0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage1_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage2_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage3_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage4_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage5_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage6_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );

    SC_METHOD(thread_out_r_ce1);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage1_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage2_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage3_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage4_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage5_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage6_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );

    SC_METHOD(thread_out_r_d0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( outdata_0_reg_1050 );
    sensitive << ( outdata_2_reg_1060 );
    sensitive << ( outdata_4_reg_1070 );
    sensitive << ( outdata_6_reg_1080 );
    sensitive << ( outdata_8_reg_1090 );
    sensitive << ( outdata_10_reg_1100 );
    sensitive << ( outdata_12_reg_1110 );
    sensitive << ( outdata_14_reg_1120 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage7 );

    SC_METHOD(thread_out_r_d1);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( outdata_1_reg_1055 );
    sensitive << ( outdata_3_reg_1065 );
    sensitive << ( outdata_5_reg_1075 );
    sensitive << ( outdata_7_reg_1085 );
    sensitive << ( outdata_9_reg_1095 );
    sensitive << ( outdata_11_reg_1105 );
    sensitive << ( outdata_13_reg_1115 );
    sensitive << ( outdata_15_reg_1125 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );
    sensitive << ( ap_block_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage7 );

    SC_METHOD(thread_out_r_we0);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_reg_pp0_iter1_tmp_reg_772 );
    sensitive << ( ap_reg_pp0_iter2_tmp_reg_772 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage1_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage2_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage3_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage4_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage5_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage6_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );

    SC_METHOD(thread_out_r_we1);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_reg_pp0_iter1_tmp_reg_772 );
    sensitive << ( ap_reg_pp0_iter2_tmp_reg_772 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage1_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage2 );
    sensitive << ( ap_block_pp0_stage2_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage3 );
    sensitive << ( ap_block_pp0_stage3_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage4 );
    sensitive << ( ap_block_pp0_stage4_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage5 );
    sensitive << ( ap_block_pp0_stage5_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage6 );
    sensitive << ( ap_block_pp0_stage6_11001 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_enable_reg_pp0_iter2 );

    SC_METHOD(thread_tmp_10_cast_fu_505_p1);
    sensitive << ( tmp_10_fu_500_p2 );

    SC_METHOD(thread_tmp_10_fu_500_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_11_fu_509_p1);
    sensitive << ( tmp_10_cast_fu_505_p1 );

    SC_METHOD(thread_tmp_12_cast_fu_519_p1);
    sensitive << ( tmp_12_fu_514_p2 );

    SC_METHOD(thread_tmp_12_fu_514_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_13_fu_523_p1);
    sensitive << ( tmp_12_cast_fu_519_p1 );

    SC_METHOD(thread_tmp_14_cast_fu_533_p1);
    sensitive << ( tmp_14_fu_528_p2 );

    SC_METHOD(thread_tmp_14_fu_528_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_15_fu_537_p1);
    sensitive << ( tmp_14_cast_fu_533_p1 );

    SC_METHOD(thread_tmp_16_cast_fu_547_p1);
    sensitive << ( tmp_16_fu_542_p2 );

    SC_METHOD(thread_tmp_16_fu_542_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_17_fu_551_p1);
    sensitive << ( tmp_16_cast_fu_547_p1 );

    SC_METHOD(thread_tmp_18_cast_fu_561_p1);
    sensitive << ( tmp_18_fu_556_p2 );

    SC_METHOD(thread_tmp_18_fu_556_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_19_fu_565_p1);
    sensitive << ( tmp_18_cast_fu_561_p1 );

    SC_METHOD(thread_tmp_20_cast_fu_575_p1);
    sensitive << ( tmp_20_fu_570_p2 );

    SC_METHOD(thread_tmp_20_fu_570_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_21_fu_579_p1);
    sensitive << ( tmp_20_cast_fu_575_p1 );

    SC_METHOD(thread_tmp_22_cast_fu_589_p1);
    sensitive << ( tmp_22_fu_584_p2 );

    SC_METHOD(thread_tmp_22_fu_584_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_23_fu_593_p1);
    sensitive << ( tmp_22_cast_fu_589_p1 );

    SC_METHOD(thread_tmp_24_cast_fu_603_p1);
    sensitive << ( tmp_24_fu_598_p2 );

    SC_METHOD(thread_tmp_24_fu_598_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_25_fu_607_p1);
    sensitive << ( tmp_24_cast_fu_603_p1 );

    SC_METHOD(thread_tmp_26_cast_fu_617_p1);
    sensitive << ( tmp_26_fu_612_p2 );

    SC_METHOD(thread_tmp_26_fu_612_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_27_fu_621_p1);
    sensitive << ( tmp_26_cast_fu_617_p1 );

    SC_METHOD(thread_tmp_28_cast_fu_631_p1);
    sensitive << ( tmp_28_fu_626_p2 );

    SC_METHOD(thread_tmp_28_fu_626_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_29_fu_635_p1);
    sensitive << ( tmp_28_cast_fu_631_p1 );

    SC_METHOD(thread_tmp_2_cast_fu_431_p1);
    sensitive << ( ap_phi_mux_tmp_49_phi_fu_379_p4 );

    SC_METHOD(thread_tmp_30_cast_fu_645_p1);
    sensitive << ( tmp_30_fu_640_p2 );

    SC_METHOD(thread_tmp_30_fu_640_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_31_fu_649_p1);
    sensitive << ( tmp_30_cast_fu_645_p1 );

    SC_METHOD(thread_tmp_32_cast_fu_659_p1);
    sensitive << ( tmp_32_fu_654_p2 );

    SC_METHOD(thread_tmp_32_fu_654_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_33_fu_663_p1);
    sensitive << ( tmp_32_cast_fu_659_p1 );

    SC_METHOD(thread_tmp_34_cast_fu_685_p1);
    sensitive << ( tmp_34_fu_680_p2 );

    SC_METHOD(thread_tmp_34_fu_680_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_35_fu_689_p1);
    sensitive << ( tmp_34_cast_fu_685_p1 );

    SC_METHOD(thread_tmp_36_cast_fu_699_p1);
    sensitive << ( tmp_36_fu_694_p2 );

    SC_METHOD(thread_tmp_36_fu_694_p2);
    sensitive << ( base_idx_reg_787 );

    SC_METHOD(thread_tmp_37_fu_703_p1);
    sensitive << ( tmp_36_cast_fu_699_p1 );

    SC_METHOD(thread_tmp_38_fu_495_p1);
    sensitive << ( ap_phi_mux_mark_idx_phi_fu_368_p4 );

    SC_METHOD(thread_tmp_39_fu_441_p3);
    sensitive << ( tmp_s_fu_435_p2 );

    SC_METHOD(thread_tmp_48_fu_668_p2);
    sensitive << ( tmp_reg_772 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( next_urem_reg_781 );
    sensitive << ( ap_CS_fsm_pp0_stage7 );
    sensitive << ( ap_block_pp0_stage7_11001 );

    SC_METHOD(thread_tmp_50_fu_453_p1);
    sensitive << ( ap_phi_mux_tmp_49_phi_fu_379_p4 );

    SC_METHOD(thread_tmp_5_cast_fu_449_p1);
    sensitive << ( tmp_39_fu_441_p3 );

    SC_METHOD(thread_tmp_6_cast_cast_fu_465_p1);
    sensitive << ( tmp_6_fu_457_p3 );

    SC_METHOD(thread_tmp_6_fu_457_p3);
    sensitive << ( tmp_50_fu_453_p1 );

    SC_METHOD(thread_tmp_7_fu_479_p1);
    sensitive << ( base_idx_cast_fu_475_p1 );

    SC_METHOD(thread_tmp_8_fu_484_p2);
    sensitive << ( base_idx_cast_fu_475_p1 );

    SC_METHOD(thread_tmp_9_fu_490_p1);
    sensitive << ( tmp_8_fu_484_p2 );

    SC_METHOD(thread_tmp_fu_409_p2);
    sensitive << ( ap_CS_fsm_pp0_stage0 );
    sensitive << ( ap_block_pp0_stage0_11001 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( ap_phi_mux_mark_idx_phi_fu_368_p4 );

    SC_METHOD(thread_tmp_s_fu_435_p2);
    sensitive << ( mark_idx_cast_fu_427_p1 );
    sensitive << ( tmp_2_cast_fu_431_p1 );

    SC_METHOD(thread_ap_NS_fsm);
    sensitive << ( ap_start );
    sensitive << ( ap_CS_fsm );
    sensitive << ( ap_CS_fsm_state1 );
    sensitive << ( tmp_fu_409_p2 );
    sensitive << ( ap_enable_reg_pp0_iter0 );
    sensitive << ( ap_CS_fsm_pp0_stage1 );
    sensitive << ( ap_block_pp0_stage0_subdone );
    sensitive << ( ap_enable_reg_pp0_iter1 );
    sensitive << ( ap_block_pp0_stage7_subdone );
    sensitive << ( ap_block_pp0_stage1_subdone );
    sensitive << ( ap_enable_reg_pp0_iter2 );
    sensitive << ( ap_block_pp0_stage2_subdone );
    sensitive << ( ap_block_pp0_stage3_subdone );
    sensitive << ( ap_block_pp0_stage4_subdone );
    sensitive << ( ap_block_pp0_stage5_subdone );
    sensitive << ( ap_block_pp0_stage6_subdone );

    SC_THREAD(thread_hdltv_gen);
    sensitive << ( ap_clk.pos() );

    ap_CS_fsm = "0000000001";
    ap_enable_reg_pp0_iter0 = SC_LOGIC_0;
    ap_enable_reg_pp0_iter1 = SC_LOGIC_0;
    ap_enable_reg_pp0_iter2 = SC_LOGIC_0;
    static int apTFileNum = 0;
    stringstream apTFilenSS;
    apTFilenSS << "img_proc_sc_trace_" << apTFileNum ++;
    string apTFn = apTFilenSS.str();
    mVcdFile = sc_create_vcd_trace_file(apTFn.c_str());
    mVcdFile->set_time_unit(1, SC_PS);
    if (1) {
#ifdef __HLS_TRACE_LEVEL_PORT__
    sc_trace(mVcdFile, ap_clk, "(port)ap_clk");
    sc_trace(mVcdFile, ap_rst, "(port)ap_rst");
    sc_trace(mVcdFile, ap_start, "(port)ap_start");
    sc_trace(mVcdFile, ap_done, "(port)ap_done");
    sc_trace(mVcdFile, ap_idle, "(port)ap_idle");
    sc_trace(mVcdFile, ap_ready, "(port)ap_ready");
    sc_trace(mVcdFile, img_address0, "(port)img_address0");
    sc_trace(mVcdFile, img_ce0, "(port)img_ce0");
    sc_trace(mVcdFile, img_q0, "(port)img_q0");
    sc_trace(mVcdFile, img_address1, "(port)img_address1");
    sc_trace(mVcdFile, img_ce1, "(port)img_ce1");
    sc_trace(mVcdFile, img_q1, "(port)img_q1");
    sc_trace(mVcdFile, mark_address0, "(port)mark_address0");
    sc_trace(mVcdFile, mark_ce0, "(port)mark_ce0");
    sc_trace(mVcdFile, mark_q0, "(port)mark_q0");
    sc_trace(mVcdFile, out_r_address0, "(port)out_r_address0");
    sc_trace(mVcdFile, out_r_ce0, "(port)out_r_ce0");
    sc_trace(mVcdFile, out_r_we0, "(port)out_r_we0");
    sc_trace(mVcdFile, out_r_d0, "(port)out_r_d0");
    sc_trace(mVcdFile, out_r_address1, "(port)out_r_address1");
    sc_trace(mVcdFile, out_r_ce1, "(port)out_r_ce1");
    sc_trace(mVcdFile, out_r_we1, "(port)out_r_we1");
    sc_trace(mVcdFile, out_r_d1, "(port)out_r_d1");
#endif
#ifdef __HLS_TRACE_LEVEL_INT__
    sc_trace(mVcdFile, ap_CS_fsm, "ap_CS_fsm");
    sc_trace(mVcdFile, ap_CS_fsm_state1, "ap_CS_fsm_state1");
    sc_trace(mVcdFile, mark_idx_reg_364, "mark_idx_reg_364");
    sc_trace(mVcdFile, tmp_49_reg_375, "tmp_49_reg_375");
    sc_trace(mVcdFile, tmp_fu_409_p2, "tmp_fu_409_p2");
    sc_trace(mVcdFile, tmp_reg_772, "tmp_reg_772");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage0, "ap_CS_fsm_pp0_stage0");
    sc_trace(mVcdFile, ap_block_state2_pp0_stage0_iter0, "ap_block_state2_pp0_stage0_iter0");
    sc_trace(mVcdFile, ap_block_state10_pp0_stage0_iter1, "ap_block_state10_pp0_stage0_iter1");
    sc_trace(mVcdFile, ap_block_state18_pp0_stage0_iter2, "ap_block_state18_pp0_stage0_iter2");
    sc_trace(mVcdFile, ap_block_pp0_stage0_11001, "ap_block_pp0_stage0_11001");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_reg_772, "ap_reg_pp0_iter1_tmp_reg_772");
    sc_trace(mVcdFile, ap_reg_pp0_iter2_tmp_reg_772, "ap_reg_pp0_iter2_tmp_reg_772");
    sc_trace(mVcdFile, mark_idx_1_fu_415_p2, "mark_idx_1_fu_415_p2");
    sc_trace(mVcdFile, mark_idx_1_reg_776, "mark_idx_1_reg_776");
    sc_trace(mVcdFile, ap_enable_reg_pp0_iter0, "ap_enable_reg_pp0_iter0");
    sc_trace(mVcdFile, next_urem_fu_421_p2, "next_urem_fu_421_p2");
    sc_trace(mVcdFile, next_urem_reg_781, "next_urem_reg_781");
    sc_trace(mVcdFile, base_idx_fu_469_p2, "base_idx_fu_469_p2");
    sc_trace(mVcdFile, base_idx_reg_787, "base_idx_reg_787");
    sc_trace(mVcdFile, tmp_7_fu_479_p1, "tmp_7_fu_479_p1");
    sc_trace(mVcdFile, tmp_7_reg_805, "tmp_7_reg_805");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_7_reg_805, "ap_reg_pp0_iter1_tmp_7_reg_805");
    sc_trace(mVcdFile, tmp_9_fu_490_p1, "tmp_9_fu_490_p1");
    sc_trace(mVcdFile, tmp_9_reg_815, "tmp_9_reg_815");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_9_reg_815, "ap_reg_pp0_iter1_tmp_9_reg_815");
    sc_trace(mVcdFile, indata_0_reg_830, "indata_0_reg_830");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage1, "ap_CS_fsm_pp0_stage1");
    sc_trace(mVcdFile, ap_block_state3_pp0_stage1_iter0, "ap_block_state3_pp0_stage1_iter0");
    sc_trace(mVcdFile, ap_block_state11_pp0_stage1_iter1, "ap_block_state11_pp0_stage1_iter1");
    sc_trace(mVcdFile, ap_block_state19_pp0_stage1_iter2, "ap_block_state19_pp0_stage1_iter2");
    sc_trace(mVcdFile, ap_block_pp0_stage1_11001, "ap_block_pp0_stage1_11001");
    sc_trace(mVcdFile, indata_1_reg_835, "indata_1_reg_835");
    sc_trace(mVcdFile, tmp_11_fu_509_p1, "tmp_11_fu_509_p1");
    sc_trace(mVcdFile, tmp_11_reg_840, "tmp_11_reg_840");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_11_reg_840, "ap_reg_pp0_iter1_tmp_11_reg_840");
    sc_trace(mVcdFile, tmp_13_fu_523_p1, "tmp_13_fu_523_p1");
    sc_trace(mVcdFile, tmp_13_reg_850, "tmp_13_reg_850");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_13_reg_850, "ap_reg_pp0_iter1_tmp_13_reg_850");
    sc_trace(mVcdFile, mark_load_reg_860, "mark_load_reg_860");
    sc_trace(mVcdFile, indata_2_reg_865, "indata_2_reg_865");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage2, "ap_CS_fsm_pp0_stage2");
    sc_trace(mVcdFile, ap_block_state4_pp0_stage2_iter0, "ap_block_state4_pp0_stage2_iter0");
    sc_trace(mVcdFile, ap_block_state12_pp0_stage2_iter1, "ap_block_state12_pp0_stage2_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage2_11001, "ap_block_pp0_stage2_11001");
    sc_trace(mVcdFile, indata_3_reg_870, "indata_3_reg_870");
    sc_trace(mVcdFile, tmp_15_fu_537_p1, "tmp_15_fu_537_p1");
    sc_trace(mVcdFile, tmp_15_reg_875, "tmp_15_reg_875");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_15_reg_875, "ap_reg_pp0_iter1_tmp_15_reg_875");
    sc_trace(mVcdFile, tmp_17_fu_551_p1, "tmp_17_fu_551_p1");
    sc_trace(mVcdFile, tmp_17_reg_885, "tmp_17_reg_885");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_17_reg_885, "ap_reg_pp0_iter1_tmp_17_reg_885");
    sc_trace(mVcdFile, indata_4_reg_895, "indata_4_reg_895");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage3, "ap_CS_fsm_pp0_stage3");
    sc_trace(mVcdFile, ap_block_state5_pp0_stage3_iter0, "ap_block_state5_pp0_stage3_iter0");
    sc_trace(mVcdFile, ap_block_state13_pp0_stage3_iter1, "ap_block_state13_pp0_stage3_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage3_11001, "ap_block_pp0_stage3_11001");
    sc_trace(mVcdFile, indata_5_reg_900, "indata_5_reg_900");
    sc_trace(mVcdFile, tmp_19_fu_565_p1, "tmp_19_fu_565_p1");
    sc_trace(mVcdFile, tmp_19_reg_905, "tmp_19_reg_905");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_19_reg_905, "ap_reg_pp0_iter1_tmp_19_reg_905");
    sc_trace(mVcdFile, tmp_21_fu_579_p1, "tmp_21_fu_579_p1");
    sc_trace(mVcdFile, tmp_21_reg_915, "tmp_21_reg_915");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_21_reg_915, "ap_reg_pp0_iter1_tmp_21_reg_915");
    sc_trace(mVcdFile, indata_6_reg_925, "indata_6_reg_925");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage4, "ap_CS_fsm_pp0_stage4");
    sc_trace(mVcdFile, ap_block_state6_pp0_stage4_iter0, "ap_block_state6_pp0_stage4_iter0");
    sc_trace(mVcdFile, ap_block_state14_pp0_stage4_iter1, "ap_block_state14_pp0_stage4_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage4_11001, "ap_block_pp0_stage4_11001");
    sc_trace(mVcdFile, indata_7_reg_930, "indata_7_reg_930");
    sc_trace(mVcdFile, tmp_23_fu_593_p1, "tmp_23_fu_593_p1");
    sc_trace(mVcdFile, tmp_23_reg_935, "tmp_23_reg_935");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_23_reg_935, "ap_reg_pp0_iter1_tmp_23_reg_935");
    sc_trace(mVcdFile, tmp_25_fu_607_p1, "tmp_25_fu_607_p1");
    sc_trace(mVcdFile, tmp_25_reg_945, "tmp_25_reg_945");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_25_reg_945, "ap_reg_pp0_iter1_tmp_25_reg_945");
    sc_trace(mVcdFile, indata_8_reg_955, "indata_8_reg_955");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage5, "ap_CS_fsm_pp0_stage5");
    sc_trace(mVcdFile, ap_block_state7_pp0_stage5_iter0, "ap_block_state7_pp0_stage5_iter0");
    sc_trace(mVcdFile, ap_block_state15_pp0_stage5_iter1, "ap_block_state15_pp0_stage5_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage5_11001, "ap_block_pp0_stage5_11001");
    sc_trace(mVcdFile, indata_9_reg_960, "indata_9_reg_960");
    sc_trace(mVcdFile, tmp_27_fu_621_p1, "tmp_27_fu_621_p1");
    sc_trace(mVcdFile, tmp_27_reg_965, "tmp_27_reg_965");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_27_reg_965, "ap_reg_pp0_iter1_tmp_27_reg_965");
    sc_trace(mVcdFile, tmp_29_fu_635_p1, "tmp_29_fu_635_p1");
    sc_trace(mVcdFile, tmp_29_reg_975, "tmp_29_reg_975");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_29_reg_975, "ap_reg_pp0_iter1_tmp_29_reg_975");
    sc_trace(mVcdFile, indata_10_reg_985, "indata_10_reg_985");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage6, "ap_CS_fsm_pp0_stage6");
    sc_trace(mVcdFile, ap_block_state8_pp0_stage6_iter0, "ap_block_state8_pp0_stage6_iter0");
    sc_trace(mVcdFile, ap_block_state16_pp0_stage6_iter1, "ap_block_state16_pp0_stage6_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage6_11001, "ap_block_pp0_stage6_11001");
    sc_trace(mVcdFile, indata_11_reg_990, "indata_11_reg_990");
    sc_trace(mVcdFile, tmp_31_fu_649_p1, "tmp_31_fu_649_p1");
    sc_trace(mVcdFile, tmp_31_reg_995, "tmp_31_reg_995");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_31_reg_995, "ap_reg_pp0_iter1_tmp_31_reg_995");
    sc_trace(mVcdFile, tmp_33_fu_663_p1, "tmp_33_fu_663_p1");
    sc_trace(mVcdFile, tmp_33_reg_1005, "tmp_33_reg_1005");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_33_reg_1005, "ap_reg_pp0_iter1_tmp_33_reg_1005");
    sc_trace(mVcdFile, idx_urem_fu_673_p3, "idx_urem_fu_673_p3");
    sc_trace(mVcdFile, idx_urem_reg_1015, "idx_urem_reg_1015");
    sc_trace(mVcdFile, ap_CS_fsm_pp0_stage7, "ap_CS_fsm_pp0_stage7");
    sc_trace(mVcdFile, ap_block_state9_pp0_stage7_iter0, "ap_block_state9_pp0_stage7_iter0");
    sc_trace(mVcdFile, ap_block_state17_pp0_stage7_iter1, "ap_block_state17_pp0_stage7_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage7_11001, "ap_block_pp0_stage7_11001");
    sc_trace(mVcdFile, indata_12_reg_1020, "indata_12_reg_1020");
    sc_trace(mVcdFile, indata_13_reg_1025, "indata_13_reg_1025");
    sc_trace(mVcdFile, tmp_35_fu_689_p1, "tmp_35_fu_689_p1");
    sc_trace(mVcdFile, tmp_35_reg_1030, "tmp_35_reg_1030");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_35_reg_1030, "ap_reg_pp0_iter1_tmp_35_reg_1030");
    sc_trace(mVcdFile, tmp_37_fu_703_p1, "tmp_37_fu_703_p1");
    sc_trace(mVcdFile, tmp_37_reg_1040, "tmp_37_reg_1040");
    sc_trace(mVcdFile, ap_reg_pp0_iter1_tmp_37_reg_1040, "ap_reg_pp0_iter1_tmp_37_reg_1040");
    sc_trace(mVcdFile, outdata_0_reg_1050, "outdata_0_reg_1050");
    sc_trace(mVcdFile, outdata_1_reg_1055, "outdata_1_reg_1055");
    sc_trace(mVcdFile, outdata_2_reg_1060, "outdata_2_reg_1060");
    sc_trace(mVcdFile, outdata_3_reg_1065, "outdata_3_reg_1065");
    sc_trace(mVcdFile, outdata_4_reg_1070, "outdata_4_reg_1070");
    sc_trace(mVcdFile, outdata_5_reg_1075, "outdata_5_reg_1075");
    sc_trace(mVcdFile, outdata_6_reg_1080, "outdata_6_reg_1080");
    sc_trace(mVcdFile, outdata_7_reg_1085, "outdata_7_reg_1085");
    sc_trace(mVcdFile, outdata_8_reg_1090, "outdata_8_reg_1090");
    sc_trace(mVcdFile, outdata_9_reg_1095, "outdata_9_reg_1095");
    sc_trace(mVcdFile, outdata_10_reg_1100, "outdata_10_reg_1100");
    sc_trace(mVcdFile, outdata_11_reg_1105, "outdata_11_reg_1105");
    sc_trace(mVcdFile, outdata_12_reg_1110, "outdata_12_reg_1110");
    sc_trace(mVcdFile, outdata_13_reg_1115, "outdata_13_reg_1115");
    sc_trace(mVcdFile, outdata_14_reg_1120, "outdata_14_reg_1120");
    sc_trace(mVcdFile, outdata_15_reg_1125, "outdata_15_reg_1125");
    sc_trace(mVcdFile, ap_block_pp0_stage0_subdone, "ap_block_pp0_stage0_subdone");
    sc_trace(mVcdFile, ap_condition_pp0_exit_iter0_state2, "ap_condition_pp0_exit_iter0_state2");
    sc_trace(mVcdFile, ap_enable_reg_pp0_iter1, "ap_enable_reg_pp0_iter1");
    sc_trace(mVcdFile, ap_block_pp0_stage7_subdone, "ap_block_pp0_stage7_subdone");
    sc_trace(mVcdFile, ap_block_pp0_stage1_subdone, "ap_block_pp0_stage1_subdone");
    sc_trace(mVcdFile, ap_enable_reg_pp0_iter2, "ap_enable_reg_pp0_iter2");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_0, "grp_add_watermark_fu_386_ap_return_0");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_1, "grp_add_watermark_fu_386_ap_return_1");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_2, "grp_add_watermark_fu_386_ap_return_2");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_3, "grp_add_watermark_fu_386_ap_return_3");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_4, "grp_add_watermark_fu_386_ap_return_4");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_5, "grp_add_watermark_fu_386_ap_return_5");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_6, "grp_add_watermark_fu_386_ap_return_6");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_7, "grp_add_watermark_fu_386_ap_return_7");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_8, "grp_add_watermark_fu_386_ap_return_8");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_9, "grp_add_watermark_fu_386_ap_return_9");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_10, "grp_add_watermark_fu_386_ap_return_10");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_11, "grp_add_watermark_fu_386_ap_return_11");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_12, "grp_add_watermark_fu_386_ap_return_12");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_13, "grp_add_watermark_fu_386_ap_return_13");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_14, "grp_add_watermark_fu_386_ap_return_14");
    sc_trace(mVcdFile, grp_add_watermark_fu_386_ap_return_15, "grp_add_watermark_fu_386_ap_return_15");
    sc_trace(mVcdFile, ap_phi_mux_mark_idx_phi_fu_368_p4, "ap_phi_mux_mark_idx_phi_fu_368_p4");
    sc_trace(mVcdFile, ap_block_pp0_stage0, "ap_block_pp0_stage0");
    sc_trace(mVcdFile, ap_phi_mux_tmp_49_phi_fu_379_p4, "ap_phi_mux_tmp_49_phi_fu_379_p4");
    sc_trace(mVcdFile, tmp_38_fu_495_p1, "tmp_38_fu_495_p1");
    sc_trace(mVcdFile, ap_block_pp0_stage1, "ap_block_pp0_stage1");
    sc_trace(mVcdFile, ap_block_pp0_stage2, "ap_block_pp0_stage2");
    sc_trace(mVcdFile, ap_block_pp0_stage3, "ap_block_pp0_stage3");
    sc_trace(mVcdFile, ap_block_pp0_stage4, "ap_block_pp0_stage4");
    sc_trace(mVcdFile, ap_block_pp0_stage5, "ap_block_pp0_stage5");
    sc_trace(mVcdFile, ap_block_pp0_stage6, "ap_block_pp0_stage6");
    sc_trace(mVcdFile, ap_block_pp0_stage7, "ap_block_pp0_stage7");
    sc_trace(mVcdFile, mark_idx_cast_fu_427_p1, "mark_idx_cast_fu_427_p1");
    sc_trace(mVcdFile, tmp_2_cast_fu_431_p1, "tmp_2_cast_fu_431_p1");
    sc_trace(mVcdFile, tmp_s_fu_435_p2, "tmp_s_fu_435_p2");
    sc_trace(mVcdFile, tmp_39_fu_441_p3, "tmp_39_fu_441_p3");
    sc_trace(mVcdFile, tmp_50_fu_453_p1, "tmp_50_fu_453_p1");
    sc_trace(mVcdFile, tmp_6_fu_457_p3, "tmp_6_fu_457_p3");
    sc_trace(mVcdFile, tmp_6_cast_cast_fu_465_p1, "tmp_6_cast_cast_fu_465_p1");
    sc_trace(mVcdFile, tmp_5_cast_fu_449_p1, "tmp_5_cast_fu_449_p1");
    sc_trace(mVcdFile, base_idx_cast_fu_475_p1, "base_idx_cast_fu_475_p1");
    sc_trace(mVcdFile, tmp_8_fu_484_p2, "tmp_8_fu_484_p2");
    sc_trace(mVcdFile, tmp_10_fu_500_p2, "tmp_10_fu_500_p2");
    sc_trace(mVcdFile, tmp_10_cast_fu_505_p1, "tmp_10_cast_fu_505_p1");
    sc_trace(mVcdFile, tmp_12_fu_514_p2, "tmp_12_fu_514_p2");
    sc_trace(mVcdFile, tmp_12_cast_fu_519_p1, "tmp_12_cast_fu_519_p1");
    sc_trace(mVcdFile, tmp_14_fu_528_p2, "tmp_14_fu_528_p2");
    sc_trace(mVcdFile, tmp_14_cast_fu_533_p1, "tmp_14_cast_fu_533_p1");
    sc_trace(mVcdFile, tmp_16_fu_542_p2, "tmp_16_fu_542_p2");
    sc_trace(mVcdFile, tmp_16_cast_fu_547_p1, "tmp_16_cast_fu_547_p1");
    sc_trace(mVcdFile, tmp_18_fu_556_p2, "tmp_18_fu_556_p2");
    sc_trace(mVcdFile, tmp_18_cast_fu_561_p1, "tmp_18_cast_fu_561_p1");
    sc_trace(mVcdFile, tmp_20_fu_570_p2, "tmp_20_fu_570_p2");
    sc_trace(mVcdFile, tmp_20_cast_fu_575_p1, "tmp_20_cast_fu_575_p1");
    sc_trace(mVcdFile, tmp_22_fu_584_p2, "tmp_22_fu_584_p2");
    sc_trace(mVcdFile, tmp_22_cast_fu_589_p1, "tmp_22_cast_fu_589_p1");
    sc_trace(mVcdFile, tmp_24_fu_598_p2, "tmp_24_fu_598_p2");
    sc_trace(mVcdFile, tmp_24_cast_fu_603_p1, "tmp_24_cast_fu_603_p1");
    sc_trace(mVcdFile, tmp_26_fu_612_p2, "tmp_26_fu_612_p2");
    sc_trace(mVcdFile, tmp_26_cast_fu_617_p1, "tmp_26_cast_fu_617_p1");
    sc_trace(mVcdFile, tmp_28_fu_626_p2, "tmp_28_fu_626_p2");
    sc_trace(mVcdFile, tmp_28_cast_fu_631_p1, "tmp_28_cast_fu_631_p1");
    sc_trace(mVcdFile, tmp_30_fu_640_p2, "tmp_30_fu_640_p2");
    sc_trace(mVcdFile, tmp_30_cast_fu_645_p1, "tmp_30_cast_fu_645_p1");
    sc_trace(mVcdFile, tmp_32_fu_654_p2, "tmp_32_fu_654_p2");
    sc_trace(mVcdFile, tmp_32_cast_fu_659_p1, "tmp_32_cast_fu_659_p1");
    sc_trace(mVcdFile, tmp_48_fu_668_p2, "tmp_48_fu_668_p2");
    sc_trace(mVcdFile, tmp_34_fu_680_p2, "tmp_34_fu_680_p2");
    sc_trace(mVcdFile, tmp_34_cast_fu_685_p1, "tmp_34_cast_fu_685_p1");
    sc_trace(mVcdFile, tmp_36_fu_694_p2, "tmp_36_fu_694_p2");
    sc_trace(mVcdFile, tmp_36_cast_fu_699_p1, "tmp_36_cast_fu_699_p1");
    sc_trace(mVcdFile, ap_CS_fsm_state20, "ap_CS_fsm_state20");
    sc_trace(mVcdFile, ap_NS_fsm, "ap_NS_fsm");
    sc_trace(mVcdFile, ap_block_pp0_stage2_subdone, "ap_block_pp0_stage2_subdone");
    sc_trace(mVcdFile, ap_block_pp0_stage3_subdone, "ap_block_pp0_stage3_subdone");
    sc_trace(mVcdFile, ap_block_pp0_stage4_subdone, "ap_block_pp0_stage4_subdone");
    sc_trace(mVcdFile, ap_block_pp0_stage5_subdone, "ap_block_pp0_stage5_subdone");
    sc_trace(mVcdFile, ap_block_pp0_stage6_subdone, "ap_block_pp0_stage6_subdone");
    sc_trace(mVcdFile, ap_idle_pp0, "ap_idle_pp0");
    sc_trace(mVcdFile, ap_enable_pp0, "ap_enable_pp0");
#endif

    }
    mHdltvinHandle.open("img_proc.hdltvin.dat");
    mHdltvoutHandle.open("img_proc.hdltvout.dat");
}

img_proc::~img_proc() {
    if (mVcdFile) 
        sc_close_vcd_trace_file(mVcdFile);

    mHdltvinHandle << "] " << endl;
    mHdltvoutHandle << "] " << endl;
    mHdltvinHandle.close();
    mHdltvoutHandle.close();
    delete grp_add_watermark_fu_386;
}

void img_proc::thread_ap_clk_no_reset_() {
    if ( ap_rst.read() == ap_const_logic_1) {
        ap_CS_fsm = ap_ST_fsm_state1;
    } else {
        ap_CS_fsm = ap_NS_fsm.read();
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        ap_enable_reg_pp0_iter0 = ap_const_logic_0;
    } else {
        if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
             esl_seteq<1,1,1>(ap_block_pp0_stage0_subdone.read(), ap_const_boolean_0) && 
             esl_seteq<1,1,1>(ap_const_logic_1, ap_condition_pp0_exit_iter0_state2.read()))) {
            ap_enable_reg_pp0_iter0 = ap_const_logic_0;
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                    esl_seteq<1,1,1>(ap_start.read(), ap_const_logic_1))) {
            ap_enable_reg_pp0_iter0 = ap_const_logic_1;
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        ap_enable_reg_pp0_iter1 = ap_const_logic_0;
    } else {
        if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage7_subdone.read(), ap_const_boolean_0))) {
            if (esl_seteq<1,1,1>(ap_const_logic_1, ap_condition_pp0_exit_iter0_state2.read())) {
                ap_enable_reg_pp0_iter1 = (ap_condition_pp0_exit_iter0_state2.read() ^ ap_const_logic_1);
            } else if (esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1)) {
                ap_enable_reg_pp0_iter1 = ap_enable_reg_pp0_iter0.read();
            }
        }
    }
    if ( ap_rst.read() == ap_const_logic_1) {
        ap_enable_reg_pp0_iter2 = ap_const_logic_0;
    } else {
        if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
              esl_seteq<1,1,1>(ap_block_pp0_stage7_subdone.read(), ap_const_boolean_0)) || 
             (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
              esl_seteq<1,1,1>(ap_block_pp0_stage1_subdone.read(), ap_const_boolean_0)))) {
            ap_enable_reg_pp0_iter2 = ap_enable_reg_pp0_iter1.read();
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                    esl_seteq<1,1,1>(ap_start.read(), ap_const_logic_1))) {
            ap_enable_reg_pp0_iter2 = ap_const_logic_0;
        }
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()))) {
        mark_idx_reg_364 = mark_idx_1_reg_776.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                esl_seteq<1,1,1>(ap_start.read(), ap_const_logic_1))) {
        mark_idx_reg_364 = ap_const_lv16_0;
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()))) {
        tmp_49_reg_375 = idx_urem_reg_1015.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && 
                esl_seteq<1,1,1>(ap_start.read(), ap_const_logic_1))) {
        tmp_49_reg_375 = ap_const_lv16_0;
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_11_reg_840 = tmp_11_reg_840.read();
        ap_reg_pp0_iter1_tmp_13_reg_850 = tmp_13_reg_850.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_15_reg_875 = tmp_15_reg_875.read();
        ap_reg_pp0_iter1_tmp_17_reg_885 = tmp_17_reg_885.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_19_reg_905 = tmp_19_reg_905.read();
        ap_reg_pp0_iter1_tmp_21_reg_915 = tmp_21_reg_915.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_23_reg_935 = tmp_23_reg_935.read();
        ap_reg_pp0_iter1_tmp_25_reg_945 = tmp_25_reg_945.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_27_reg_965 = tmp_27_reg_965.read();
        ap_reg_pp0_iter1_tmp_29_reg_975 = tmp_29_reg_975.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_31_reg_995 = tmp_31_reg_995.read();
        ap_reg_pp0_iter1_tmp_33_reg_1005 = tmp_33_reg_1005.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_35_reg_1030 = tmp_35_reg_1030.read();
        ap_reg_pp0_iter1_tmp_37_reg_1040 = tmp_37_reg_1040.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0))) {
        ap_reg_pp0_iter1_tmp_7_reg_805 = tmp_7_reg_805.read();
        ap_reg_pp0_iter1_tmp_9_reg_815 = tmp_9_reg_815.read();
        ap_reg_pp0_iter1_tmp_reg_772 = tmp_reg_772.read();
        ap_reg_pp0_iter2_tmp_reg_772 = ap_reg_pp0_iter1_tmp_reg_772.read();
        tmp_reg_772 = tmp_fu_409_p2.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(tmp_fu_409_p2.read(), ap_const_lv1_0))) {
        base_idx_reg_787 = base_idx_fu_469_p2.read();
        next_urem_reg_781 = next_urem_fu_421_p2.read();
        tmp_7_reg_805 = tmp_7_fu_479_p1.read();
        tmp_9_reg_815 = tmp_9_fu_490_p1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0))) {
        idx_urem_reg_1015 = idx_urem_fu_673_p3.read();
        indata_12_reg_1020 = img_q0.read();
        indata_13_reg_1025 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0))) {
        indata_0_reg_830 = img_q0.read();
        indata_1_reg_835 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0))) {
        indata_10_reg_985 = img_q0.read();
        indata_11_reg_990 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0))) {
        indata_2_reg_865 = img_q0.read();
        indata_3_reg_870 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0))) {
        indata_4_reg_895 = img_q0.read();
        indata_5_reg_900 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0))) {
        indata_6_reg_925 = img_q0.read();
        indata_7_reg_930 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0))) {
        indata_8_reg_955 = img_q0.read();
        indata_9_reg_960 = img_q1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()))) {
        mark_idx_1_reg_776 = mark_idx_1_fu_415_p2.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0))) {
        mark_load_reg_860 = mark_q0.read();
        tmp_11_reg_840 = tmp_11_fu_509_p1.read();
        tmp_13_reg_850 = tmp_13_fu_523_p1.read();
    }
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0))) {
        outdata_0_reg_1050 = grp_add_watermark_fu_386_ap_return_0.read();
        outdata_10_reg_1100 = grp_add_watermark_fu_386_ap_return_10.read();
        outdata_11_reg_1105 = grp_add_watermark_fu_386_ap_return_11.read();
        outdata_12_reg_1110 = grp_add_watermark_fu_386_ap_return_12.read();
        outdata_13_reg_1115 = grp_add_watermark_fu_386_ap_return_13.read();
        outdata_14_reg_1120 = grp_add_watermark_fu_386_ap_return_14.read();
        outdata_15_reg_1125 = grp_add_watermark_fu_386_ap_return_15.read();
        outdata_1_reg_1055 = grp_add_watermark_fu_386_ap_return_1.read();
        outdata_2_reg_1060 = grp_add_watermark_fu_386_ap_return_2.read();
        outdata_3_reg_1065 = grp_add_watermark_fu_386_ap_return_3.read();
        outdata_4_reg_1070 = grp_add_watermark_fu_386_ap_return_4.read();
        outdata_5_reg_1075 = grp_add_watermark_fu_386_ap_return_5.read();
        outdata_6_reg_1080 = grp_add_watermark_fu_386_ap_return_6.read();
        outdata_7_reg_1085 = grp_add_watermark_fu_386_ap_return_7.read();
        outdata_8_reg_1090 = grp_add_watermark_fu_386_ap_return_8.read();
        outdata_9_reg_1095 = grp_add_watermark_fu_386_ap_return_9.read();
    }
    if ((esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0))) {
        tmp_15_reg_875 = tmp_15_fu_537_p1.read();
        tmp_17_reg_885 = tmp_17_fu_551_p1.read();
    }
    if ((esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0))) {
        tmp_19_reg_905 = tmp_19_fu_565_p1.read();
        tmp_21_reg_915 = tmp_21_fu_579_p1.read();
    }
    if ((esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0))) {
        tmp_23_reg_935 = tmp_23_fu_593_p1.read();
        tmp_25_reg_945 = tmp_25_fu_607_p1.read();
    }
    if ((esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0))) {
        tmp_27_reg_965 = tmp_27_fu_621_p1.read();
        tmp_29_reg_975 = tmp_29_fu_635_p1.read();
    }
    if ((esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0))) {
        tmp_31_reg_995 = tmp_31_fu_649_p1.read();
        tmp_33_reg_1005 = tmp_33_fu_663_p1.read();
    }
    if ((esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0))) {
        tmp_35_reg_1030 = tmp_35_fu_689_p1.read();
        tmp_37_reg_1040 = tmp_37_fu_703_p1.read();
    }
}

void img_proc::thread_ap_CS_fsm_pp0_stage0() {
    ap_CS_fsm_pp0_stage0 = ap_CS_fsm.read()[1];
}

void img_proc::thread_ap_CS_fsm_pp0_stage1() {
    ap_CS_fsm_pp0_stage1 = ap_CS_fsm.read()[2];
}

void img_proc::thread_ap_CS_fsm_pp0_stage2() {
    ap_CS_fsm_pp0_stage2 = ap_CS_fsm.read()[3];
}

void img_proc::thread_ap_CS_fsm_pp0_stage3() {
    ap_CS_fsm_pp0_stage3 = ap_CS_fsm.read()[4];
}

void img_proc::thread_ap_CS_fsm_pp0_stage4() {
    ap_CS_fsm_pp0_stage4 = ap_CS_fsm.read()[5];
}

void img_proc::thread_ap_CS_fsm_pp0_stage5() {
    ap_CS_fsm_pp0_stage5 = ap_CS_fsm.read()[6];
}

void img_proc::thread_ap_CS_fsm_pp0_stage6() {
    ap_CS_fsm_pp0_stage6 = ap_CS_fsm.read()[7];
}

void img_proc::thread_ap_CS_fsm_pp0_stage7() {
    ap_CS_fsm_pp0_stage7 = ap_CS_fsm.read()[8];
}

void img_proc::thread_ap_CS_fsm_state1() {
    ap_CS_fsm_state1 = ap_CS_fsm.read()[0];
}

void img_proc::thread_ap_CS_fsm_state20() {
    ap_CS_fsm_state20 = ap_CS_fsm.read()[9];
}

void img_proc::thread_ap_block_pp0_stage0() {
    ap_block_pp0_stage0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage0_11001() {
    ap_block_pp0_stage0_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage0_subdone() {
    ap_block_pp0_stage0_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage1() {
    ap_block_pp0_stage1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage1_11001() {
    ap_block_pp0_stage1_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage1_subdone() {
    ap_block_pp0_stage1_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage2() {
    ap_block_pp0_stage2 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage2_11001() {
    ap_block_pp0_stage2_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage2_subdone() {
    ap_block_pp0_stage2_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage3() {
    ap_block_pp0_stage3 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage3_11001() {
    ap_block_pp0_stage3_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage3_subdone() {
    ap_block_pp0_stage3_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage4() {
    ap_block_pp0_stage4 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage4_11001() {
    ap_block_pp0_stage4_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage4_subdone() {
    ap_block_pp0_stage4_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage5() {
    ap_block_pp0_stage5 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage5_11001() {
    ap_block_pp0_stage5_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage5_subdone() {
    ap_block_pp0_stage5_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage6() {
    ap_block_pp0_stage6 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage6_11001() {
    ap_block_pp0_stage6_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage6_subdone() {
    ap_block_pp0_stage6_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage7() {
    ap_block_pp0_stage7 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage7_11001() {
    ap_block_pp0_stage7_11001 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_pp0_stage7_subdone() {
    ap_block_pp0_stage7_subdone = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state10_pp0_stage0_iter1() {
    ap_block_state10_pp0_stage0_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state11_pp0_stage1_iter1() {
    ap_block_state11_pp0_stage1_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state12_pp0_stage2_iter1() {
    ap_block_state12_pp0_stage2_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state13_pp0_stage3_iter1() {
    ap_block_state13_pp0_stage3_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state14_pp0_stage4_iter1() {
    ap_block_state14_pp0_stage4_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state15_pp0_stage5_iter1() {
    ap_block_state15_pp0_stage5_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state16_pp0_stage6_iter1() {
    ap_block_state16_pp0_stage6_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state17_pp0_stage7_iter1() {
    ap_block_state17_pp0_stage7_iter1 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state18_pp0_stage0_iter2() {
    ap_block_state18_pp0_stage0_iter2 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state19_pp0_stage1_iter2() {
    ap_block_state19_pp0_stage1_iter2 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state2_pp0_stage0_iter0() {
    ap_block_state2_pp0_stage0_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state3_pp0_stage1_iter0() {
    ap_block_state3_pp0_stage1_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state4_pp0_stage2_iter0() {
    ap_block_state4_pp0_stage2_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state5_pp0_stage3_iter0() {
    ap_block_state5_pp0_stage3_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state6_pp0_stage4_iter0() {
    ap_block_state6_pp0_stage4_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state7_pp0_stage5_iter0() {
    ap_block_state7_pp0_stage5_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state8_pp0_stage6_iter0() {
    ap_block_state8_pp0_stage6_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_block_state9_pp0_stage7_iter0() {
    ap_block_state9_pp0_stage7_iter0 = !esl_seteq<1,1,1>(ap_const_boolean_1, ap_const_boolean_1);
}

void img_proc::thread_ap_condition_pp0_exit_iter0_state2() {
    if (esl_seteq<1,1,1>(tmp_fu_409_p2.read(), ap_const_lv1_1)) {
        ap_condition_pp0_exit_iter0_state2 = ap_const_logic_1;
    } else {
        ap_condition_pp0_exit_iter0_state2 = ap_const_logic_0;
    }
}

void img_proc::thread_ap_done() {
    if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state20.read())) {
        ap_done = ap_const_logic_1;
    } else {
        ap_done = ap_const_logic_0;
    }
}

void img_proc::thread_ap_enable_pp0() {
    ap_enable_pp0 = (ap_idle_pp0.read() ^ ap_const_logic_1);
}

void img_proc::thread_ap_idle() {
    if ((esl_seteq<1,1,1>(ap_const_logic_0, ap_start.read()) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()))) {
        ap_idle = ap_const_logic_1;
    } else {
        ap_idle = ap_const_logic_0;
    }
}

void img_proc::thread_ap_idle_pp0() {
    if ((esl_seteq<1,1,1>(ap_const_logic_0, ap_enable_reg_pp0_iter0.read()) && 
         esl_seteq<1,1,1>(ap_const_logic_0, ap_enable_reg_pp0_iter1.read()) && 
         esl_seteq<1,1,1>(ap_const_logic_0, ap_enable_reg_pp0_iter2.read()))) {
        ap_idle_pp0 = ap_const_logic_1;
    } else {
        ap_idle_pp0 = ap_const_logic_0;
    }
}

void img_proc::thread_ap_phi_mux_mark_idx_phi_fu_368_p4() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
         esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0))) {
        ap_phi_mux_mark_idx_phi_fu_368_p4 = mark_idx_1_reg_776.read();
    } else {
        ap_phi_mux_mark_idx_phi_fu_368_p4 = mark_idx_reg_364.read();
    }
}

void img_proc::thread_ap_phi_mux_tmp_49_phi_fu_379_p4() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
         esl_seteq<1,1,1>(tmp_reg_772.read(), ap_const_lv1_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0))) {
        ap_phi_mux_tmp_49_phi_fu_379_p4 = idx_urem_reg_1015.read();
    } else {
        ap_phi_mux_tmp_49_phi_fu_379_p4 = tmp_49_reg_375.read();
    }
}

void img_proc::thread_ap_ready() {
    if (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state20.read())) {
        ap_ready = ap_const_logic_1;
    } else {
        ap_ready = ap_const_logic_0;
    }
}

void img_proc::thread_base_idx_cast_fu_475_p1() {
    base_idx_cast_fu_475_p1 = esl_sext<32,22>(base_idx_fu_469_p2.read());
}

void img_proc::thread_base_idx_fu_469_p2() {
    base_idx_fu_469_p2 = (!tmp_6_cast_cast_fu_465_p1.read().is_01() || !tmp_5_cast_fu_449_p1.read().is_01())? sc_lv<22>(): (sc_biguint<22>(tmp_6_cast_cast_fu_465_p1.read()) + sc_bigint<22>(tmp_5_cast_fu_449_p1.read()));
}

void img_proc::thread_idx_urem_fu_673_p3() {
    idx_urem_fu_673_p3 = (!tmp_48_fu_668_p2.read()[0].is_01())? sc_lv<16>(): ((tmp_48_fu_668_p2.read()[0].to_bool())? next_urem_reg_781.read(): ap_const_lv16_0);
}

void img_proc::thread_img_address0() {
    if (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read())) {
        if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
             esl_seteq<1,1,1>(ap_block_pp0_stage7.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_35_fu_689_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage6.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_31_fu_649_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage5.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_27_fu_621_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage4.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_23_fu_593_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage3.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_19_fu_565_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage2.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_15_fu_537_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage1.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_11_fu_509_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0))) {
            img_address0 =  (sc_lv<20>) (tmp_7_fu_479_p1.read());
        } else {
            img_address0 = "XXXXXXXXXXXXXXXXXXXX";
        }
    } else {
        img_address0 = "XXXXXXXXXXXXXXXXXXXX";
    }
}

void img_proc::thread_img_address1() {
    if (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read())) {
        if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
             esl_seteq<1,1,1>(ap_block_pp0_stage7.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_37_fu_703_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage6.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_33_fu_663_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage5.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_29_fu_635_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage4.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_25_fu_607_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage3.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_21_fu_579_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage2.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_17_fu_551_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage1.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_13_fu_523_p1.read());
        } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
                    esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0))) {
            img_address1 =  (sc_lv<20>) (tmp_9_fu_490_p1.read());
        } else {
            img_address1 = "XXXXXXXXXXXXXXXXXXXX";
        }
    } else {
        img_address1 = "XXXXXXXXXXXXXXXXXXXX";
    }
}

void img_proc::thread_img_ce0() {
    if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0)))) {
        img_ce0 = ap_const_logic_1;
    } else {
        img_ce0 = ap_const_logic_0;
    }
}

void img_proc::thread_img_ce1() {
    if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0)) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0)))) {
        img_ce1 = ap_const_logic_1;
    } else {
        img_ce1 = ap_const_logic_0;
    }
}

void img_proc::thread_mark_address0() {
    mark_address0 =  (sc_lv<16>) (tmp_38_fu_495_p1.read());
}

void img_proc::thread_mark_ce0() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()))) {
        mark_ce0 = ap_const_logic_1;
    } else {
        mark_ce0 = ap_const_logic_0;
    }
}

void img_proc::thread_mark_idx_1_fu_415_p2() {
    mark_idx_1_fu_415_p2 = (!ap_phi_mux_mark_idx_phi_fu_368_p4.read().is_01() || !ap_const_lv16_1.is_01())? sc_lv<16>(): (sc_biguint<16>(ap_phi_mux_mark_idx_phi_fu_368_p4.read()) + sc_biguint<16>(ap_const_lv16_1));
}

void img_proc::thread_mark_idx_cast_fu_427_p1() {
    mark_idx_cast_fu_427_p1 = esl_zext<17,16>(ap_phi_mux_mark_idx_phi_fu_368_p4.read());
}

void img_proc::thread_next_urem_fu_421_p2() {
    next_urem_fu_421_p2 = (!ap_const_lv16_1.is_01() || !ap_phi_mux_tmp_49_phi_fu_379_p4.read().is_01())? sc_lv<16>(): (sc_biguint<16>(ap_const_lv16_1) + sc_biguint<16>(ap_phi_mux_tmp_49_phi_fu_379_p4.read()));
}

void img_proc::thread_out_r_address0() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage1.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_35_reg_1030.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_31_reg_995.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage7.read(), ap_const_boolean_0))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_27_reg_965.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage6.read(), ap_const_boolean_0))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_23_reg_935.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage5.read(), ap_const_boolean_0))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_19_reg_905.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage4.read(), ap_const_boolean_0))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_15_reg_875.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage3.read(), ap_const_boolean_0))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_11_reg_840.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage2.read(), ap_const_boolean_0))) {
        out_r_address0 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_7_reg_805.read());
    } else {
        out_r_address0 = "XXXXXXXXXXXXXXXXXXXX";
    }
}

void img_proc::thread_out_r_address1() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage1.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_37_reg_1040.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_33_reg_1005.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage7.read(), ap_const_boolean_0))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_29_reg_975.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage6.read(), ap_const_boolean_0))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_25_reg_945.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage5.read(), ap_const_boolean_0))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_21_reg_915.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage4.read(), ap_const_boolean_0))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_17_reg_885.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage3.read(), ap_const_boolean_0))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_13_reg_850.read());
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage2.read(), ap_const_boolean_0))) {
        out_r_address1 =  (sc_lv<20>) (ap_reg_pp0_iter1_tmp_9_reg_815.read());
    } else {
        out_r_address1 = "XXXXXXXXXXXXXXXXXXXX";
    }
}

void img_proc::thread_out_r_ce0() {
    if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read())))) {
        out_r_ce0 = ap_const_logic_1;
    } else {
        out_r_ce0 = ap_const_logic_0;
    }
}

void img_proc::thread_out_r_ce1() {
    if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read())))) {
        out_r_ce1 = ap_const_logic_1;
    } else {
        out_r_ce1 = ap_const_logic_0;
    }
}

void img_proc::thread_out_r_d0() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage1.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_d0 = outdata_14_reg_1120.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_d0 = outdata_12_reg_1110.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage7.read(), ap_const_boolean_0))) {
        out_r_d0 = outdata_10_reg_1100.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage6.read(), ap_const_boolean_0))) {
        out_r_d0 = outdata_8_reg_1090.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage5.read(), ap_const_boolean_0))) {
        out_r_d0 = outdata_6_reg_1080.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage4.read(), ap_const_boolean_0))) {
        out_r_d0 = outdata_4_reg_1070.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage3.read(), ap_const_boolean_0))) {
        out_r_d0 = outdata_2_reg_1060.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage2.read(), ap_const_boolean_0))) {
        out_r_d0 = outdata_0_reg_1050.read();
    } else {
        out_r_d0 =  (sc_lv<8>) ("XXXXXXXX");
    }
}

void img_proc::thread_out_r_d1() {
    if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
         esl_seteq<1,1,1>(ap_block_pp0_stage1.read(), ap_const_boolean_0) && 
         esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_d1 = outdata_15_reg_1125.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage0.read(), ap_const_boolean_0) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()))) {
        out_r_d1 = outdata_13_reg_1115.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage7.read(), ap_const_boolean_0))) {
        out_r_d1 = outdata_11_reg_1105.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage6.read(), ap_const_boolean_0))) {
        out_r_d1 = outdata_9_reg_1095.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage5.read(), ap_const_boolean_0))) {
        out_r_d1 = outdata_7_reg_1085.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage4.read(), ap_const_boolean_0))) {
        out_r_d1 = outdata_5_reg_1075.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage3.read(), ap_const_boolean_0))) {
        out_r_d1 = outdata_3_reg_1065.read();
    } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
                esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read()) && 
                esl_seteq<1,1,1>(ap_block_pp0_stage2.read(), ap_const_boolean_0))) {
        out_r_d1 = outdata_1_reg_1055.read();
    } else {
        out_r_d1 =  (sc_lv<8>) ("XXXXXXXX");
    }
}

void img_proc::thread_out_r_we0() {
    if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter2_tmp_reg_772.read(), ap_const_lv1_0)))) {
        out_r_we0 = ap_const_logic_1;
    } else {
        out_r_we0 = ap_const_logic_0;
    }
}

void img_proc::thread_out_r_we1() {
    if (((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage2.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage2_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage3.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage3_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage4.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage4_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage5.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage5_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage6.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage6_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage7.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage7_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter1.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage0.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage0_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter1_tmp_reg_772.read(), ap_const_lv1_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read())) || 
         (esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && 
          esl_seteq<1,1,1>(ap_block_pp0_stage1_11001.read(), ap_const_boolean_0) && 
          esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()) && 
          esl_seteq<1,1,1>(ap_reg_pp0_iter2_tmp_reg_772.read(), ap_const_lv1_0)))) {
        out_r_we1 = ap_const_logic_1;
    } else {
        out_r_we1 = ap_const_logic_0;
    }
}

void img_proc::thread_tmp_10_cast_fu_505_p1() {
    tmp_10_cast_fu_505_p1 = esl_sext<32,22>(tmp_10_fu_500_p2.read());
}

void img_proc::thread_tmp_10_fu_500_p2() {
    tmp_10_fu_500_p2 = (base_idx_reg_787.read() | ap_const_lv22_2);
}

void img_proc::thread_tmp_11_fu_509_p1() {
    tmp_11_fu_509_p1 = esl_zext<64,32>(tmp_10_cast_fu_505_p1.read());
}

void img_proc::thread_tmp_12_cast_fu_519_p1() {
    tmp_12_cast_fu_519_p1 = esl_sext<32,22>(tmp_12_fu_514_p2.read());
}

void img_proc::thread_tmp_12_fu_514_p2() {
    tmp_12_fu_514_p2 = (base_idx_reg_787.read() | ap_const_lv22_3);
}

void img_proc::thread_tmp_13_fu_523_p1() {
    tmp_13_fu_523_p1 = esl_zext<64,32>(tmp_12_cast_fu_519_p1.read());
}

void img_proc::thread_tmp_14_cast_fu_533_p1() {
    tmp_14_cast_fu_533_p1 = esl_sext<32,22>(tmp_14_fu_528_p2.read());
}

void img_proc::thread_tmp_14_fu_528_p2() {
    tmp_14_fu_528_p2 = (!ap_const_lv22_320.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_320) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_15_fu_537_p1() {
    tmp_15_fu_537_p1 = esl_zext<64,32>(tmp_14_cast_fu_533_p1.read());
}

void img_proc::thread_tmp_16_cast_fu_547_p1() {
    tmp_16_cast_fu_547_p1 = esl_sext<32,22>(tmp_16_fu_542_p2.read());
}

void img_proc::thread_tmp_16_fu_542_p2() {
    tmp_16_fu_542_p2 = (!ap_const_lv22_321.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_321) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_17_fu_551_p1() {
    tmp_17_fu_551_p1 = esl_zext<64,32>(tmp_16_cast_fu_547_p1.read());
}

void img_proc::thread_tmp_18_cast_fu_561_p1() {
    tmp_18_cast_fu_561_p1 = esl_sext<32,22>(tmp_18_fu_556_p2.read());
}

void img_proc::thread_tmp_18_fu_556_p2() {
    tmp_18_fu_556_p2 = (!ap_const_lv22_322.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_322) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_19_fu_565_p1() {
    tmp_19_fu_565_p1 = esl_zext<64,32>(tmp_18_cast_fu_561_p1.read());
}

void img_proc::thread_tmp_20_cast_fu_575_p1() {
    tmp_20_cast_fu_575_p1 = esl_sext<32,22>(tmp_20_fu_570_p2.read());
}

void img_proc::thread_tmp_20_fu_570_p2() {
    tmp_20_fu_570_p2 = (!ap_const_lv22_323.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_323) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_21_fu_579_p1() {
    tmp_21_fu_579_p1 = esl_zext<64,32>(tmp_20_cast_fu_575_p1.read());
}

void img_proc::thread_tmp_22_cast_fu_589_p1() {
    tmp_22_cast_fu_589_p1 = esl_sext<32,22>(tmp_22_fu_584_p2.read());
}

void img_proc::thread_tmp_22_fu_584_p2() {
    tmp_22_fu_584_p2 = (!ap_const_lv22_640.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_640) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_23_fu_593_p1() {
    tmp_23_fu_593_p1 = esl_zext<64,32>(tmp_22_cast_fu_589_p1.read());
}

void img_proc::thread_tmp_24_cast_fu_603_p1() {
    tmp_24_cast_fu_603_p1 = esl_sext<32,22>(tmp_24_fu_598_p2.read());
}

void img_proc::thread_tmp_24_fu_598_p2() {
    tmp_24_fu_598_p2 = (!ap_const_lv22_641.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_641) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_25_fu_607_p1() {
    tmp_25_fu_607_p1 = esl_zext<64,32>(tmp_24_cast_fu_603_p1.read());
}

void img_proc::thread_tmp_26_cast_fu_617_p1() {
    tmp_26_cast_fu_617_p1 = esl_sext<32,22>(tmp_26_fu_612_p2.read());
}

void img_proc::thread_tmp_26_fu_612_p2() {
    tmp_26_fu_612_p2 = (!ap_const_lv22_642.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_642) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_27_fu_621_p1() {
    tmp_27_fu_621_p1 = esl_zext<64,32>(tmp_26_cast_fu_617_p1.read());
}

void img_proc::thread_tmp_28_cast_fu_631_p1() {
    tmp_28_cast_fu_631_p1 = esl_sext<32,22>(tmp_28_fu_626_p2.read());
}

void img_proc::thread_tmp_28_fu_626_p2() {
    tmp_28_fu_626_p2 = (!ap_const_lv22_643.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_643) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_29_fu_635_p1() {
    tmp_29_fu_635_p1 = esl_zext<64,32>(tmp_28_cast_fu_631_p1.read());
}

void img_proc::thread_tmp_2_cast_fu_431_p1() {
    tmp_2_cast_fu_431_p1 = esl_zext<17,16>(ap_phi_mux_tmp_49_phi_fu_379_p4.read());
}

void img_proc::thread_tmp_30_cast_fu_645_p1() {
    tmp_30_cast_fu_645_p1 = esl_sext<32,22>(tmp_30_fu_640_p2.read());
}

void img_proc::thread_tmp_30_fu_640_p2() {
    tmp_30_fu_640_p2 = (!ap_const_lv22_960.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_960) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_31_fu_649_p1() {
    tmp_31_fu_649_p1 = esl_zext<64,32>(tmp_30_cast_fu_645_p1.read());
}

void img_proc::thread_tmp_32_cast_fu_659_p1() {
    tmp_32_cast_fu_659_p1 = esl_sext<32,22>(tmp_32_fu_654_p2.read());
}

void img_proc::thread_tmp_32_fu_654_p2() {
    tmp_32_fu_654_p2 = (!ap_const_lv22_961.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_961) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_33_fu_663_p1() {
    tmp_33_fu_663_p1 = esl_zext<64,32>(tmp_32_cast_fu_659_p1.read());
}

void img_proc::thread_tmp_34_cast_fu_685_p1() {
    tmp_34_cast_fu_685_p1 = esl_sext<32,22>(tmp_34_fu_680_p2.read());
}

void img_proc::thread_tmp_34_fu_680_p2() {
    tmp_34_fu_680_p2 = (!ap_const_lv22_962.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_962) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_35_fu_689_p1() {
    tmp_35_fu_689_p1 = esl_zext<64,32>(tmp_34_cast_fu_685_p1.read());
}

void img_proc::thread_tmp_36_cast_fu_699_p1() {
    tmp_36_cast_fu_699_p1 = esl_sext<32,22>(tmp_36_fu_694_p2.read());
}

void img_proc::thread_tmp_36_fu_694_p2() {
    tmp_36_fu_694_p2 = (!ap_const_lv22_963.is_01() || !base_idx_reg_787.read().is_01())? sc_lv<22>(): (sc_biguint<22>(ap_const_lv22_963) + sc_biguint<22>(base_idx_reg_787.read()));
}

void img_proc::thread_tmp_37_fu_703_p1() {
    tmp_37_fu_703_p1 = esl_zext<64,32>(tmp_36_cast_fu_699_p1.read());
}

void img_proc::thread_tmp_38_fu_495_p1() {
    tmp_38_fu_495_p1 = esl_zext<64,16>(ap_phi_mux_mark_idx_phi_fu_368_p4.read());
}

void img_proc::thread_tmp_39_fu_441_p3() {
    tmp_39_fu_441_p3 = esl_concat<17,4>(tmp_s_fu_435_p2.read(), ap_const_lv4_0);
}

void img_proc::thread_tmp_48_fu_668_p2() {
    tmp_48_fu_668_p2 = (!next_urem_reg_781.read().is_01() || !ap_const_lv16_C8.is_01())? sc_lv<1>(): (sc_biguint<16>(next_urem_reg_781.read()) < sc_biguint<16>(ap_const_lv16_C8));
}

void img_proc::thread_tmp_50_fu_453_p1() {
    tmp_50_fu_453_p1 = ap_phi_mux_tmp_49_phi_fu_379_p4.read().range(8-1, 0);
}

void img_proc::thread_tmp_5_cast_fu_449_p1() {
    tmp_5_cast_fu_449_p1 = esl_sext<22,21>(tmp_39_fu_441_p3.read());
}

void img_proc::thread_tmp_6_cast_cast_fu_465_p1() {
    tmp_6_cast_cast_fu_465_p1 = esl_zext<22,10>(tmp_6_fu_457_p3.read());
}

void img_proc::thread_tmp_6_fu_457_p3() {
    tmp_6_fu_457_p3 = esl_concat<8,2>(tmp_50_fu_453_p1.read(), ap_const_lv2_0);
}

void img_proc::thread_tmp_7_fu_479_p1() {
    tmp_7_fu_479_p1 = esl_zext<64,32>(base_idx_cast_fu_475_p1.read());
}

void img_proc::thread_tmp_8_fu_484_p2() {
    tmp_8_fu_484_p2 = (base_idx_cast_fu_475_p1.read() | ap_const_lv32_1);
}

void img_proc::thread_tmp_9_fu_490_p1() {
    tmp_9_fu_490_p1 = esl_zext<64,32>(tmp_8_fu_484_p2.read());
}

void img_proc::thread_tmp_fu_409_p2() {
    tmp_fu_409_p2 = (!ap_phi_mux_mark_idx_phi_fu_368_p4.read().is_01() || !ap_const_lv16_9C40.is_01())? sc_lv<1>(): sc_lv<1>(ap_phi_mux_mark_idx_phi_fu_368_p4.read() == ap_const_lv16_9C40);
}

void img_proc::thread_tmp_s_fu_435_p2() {
    tmp_s_fu_435_p2 = (!mark_idx_cast_fu_427_p1.read().is_01() || !tmp_2_cast_fu_431_p1.read().is_01())? sc_lv<17>(): (sc_biguint<17>(mark_idx_cast_fu_427_p1.read()) - sc_biguint<17>(tmp_2_cast_fu_431_p1.read()));
}

void img_proc::thread_ap_NS_fsm() {
    switch (ap_CS_fsm.read().to_uint64()) {
        case 1 : 
            if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_state1.read()) && esl_seteq<1,1,1>(ap_start.read(), ap_const_logic_1))) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage0;
            } else {
                ap_NS_fsm = ap_ST_fsm_state1;
            }
            break;
        case 2 : 
            if ((esl_seteq<1,1,1>(ap_block_pp0_stage0_subdone.read(), ap_const_boolean_0) && !(esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage0_subdone.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(tmp_fu_409_p2.read(), ap_const_lv1_1) && esl_seteq<1,1,1>(ap_enable_reg_pp0_iter1.read(), ap_const_logic_0)))) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage1;
            } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter0.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage0_subdone.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(tmp_fu_409_p2.read(), ap_const_lv1_1) && esl_seteq<1,1,1>(ap_enable_reg_pp0_iter1.read(), ap_const_logic_0))) {
                ap_NS_fsm = ap_ST_fsm_state20;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage0;
            }
            break;
        case 4 : 
            if ((esl_seteq<1,1,1>(ap_block_pp0_stage1_subdone.read(), ap_const_boolean_0) && !(esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage1_subdone.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()) && esl_seteq<1,1,1>(ap_enable_reg_pp0_iter1.read(), ap_const_logic_0)))) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage2;
            } else if ((esl_seteq<1,1,1>(ap_const_logic_1, ap_CS_fsm_pp0_stage1.read()) && esl_seteq<1,1,1>(ap_block_pp0_stage1_subdone.read(), ap_const_boolean_0) && esl_seteq<1,1,1>(ap_const_logic_1, ap_enable_reg_pp0_iter2.read()) && esl_seteq<1,1,1>(ap_enable_reg_pp0_iter1.read(), ap_const_logic_0))) {
                ap_NS_fsm = ap_ST_fsm_state20;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage1;
            }
            break;
        case 8 : 
            if (esl_seteq<1,1,1>(ap_block_pp0_stage2_subdone.read(), ap_const_boolean_0)) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage3;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage2;
            }
            break;
        case 16 : 
            if (esl_seteq<1,1,1>(ap_block_pp0_stage3_subdone.read(), ap_const_boolean_0)) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage4;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage3;
            }
            break;
        case 32 : 
            if (esl_seteq<1,1,1>(ap_block_pp0_stage4_subdone.read(), ap_const_boolean_0)) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage5;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage4;
            }
            break;
        case 64 : 
            if (esl_seteq<1,1,1>(ap_block_pp0_stage5_subdone.read(), ap_const_boolean_0)) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage6;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage5;
            }
            break;
        case 128 : 
            if (esl_seteq<1,1,1>(ap_block_pp0_stage6_subdone.read(), ap_const_boolean_0)) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage7;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage6;
            }
            break;
        case 256 : 
            if (esl_seteq<1,1,1>(ap_block_pp0_stage7_subdone.read(), ap_const_boolean_0)) {
                ap_NS_fsm = ap_ST_fsm_pp0_stage0;
            } else {
                ap_NS_fsm = ap_ST_fsm_pp0_stage7;
            }
            break;
        case 512 : 
            ap_NS_fsm = ap_ST_fsm_state1;
            break;
        default : 
            ap_NS_fsm =  (sc_lv<10>) ("XXXXXXXXXX");
            break;
    }
}

void img_proc::thread_hdltv_gen() {
    const char* dump_tv = std::getenv("AP_WRITE_TV");
    if (!(dump_tv && string(dump_tv) == "on")) return;

    wait();

    mHdltvinHandle << "[ " << endl;
    mHdltvoutHandle << "[ " << endl;
    int ap_cycleNo = 0;
    while (1) {
        wait();
        const char* mComma = ap_cycleNo == 0 ? " " : ", " ;
        mHdltvinHandle << mComma << "{"  <<  " \"ap_rst\" :  \"" << ap_rst.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"ap_start\" :  \"" << ap_start.read() << "\" ";
        mHdltvoutHandle << mComma << "{"  <<  " \"ap_done\" :  \"" << ap_done.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"ap_idle\" :  \"" << ap_idle.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"ap_ready\" :  \"" << ap_ready.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"img_address0\" :  \"" << img_address0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"img_ce0\" :  \"" << img_ce0.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"img_q0\" :  \"" << img_q0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"img_address1\" :  \"" << img_address1.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"img_ce1\" :  \"" << img_ce1.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"img_q1\" :  \"" << img_q1.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"mark_address0\" :  \"" << mark_address0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"mark_ce0\" :  \"" << mark_ce0.read() << "\" ";
        mHdltvinHandle << " , " <<  " \"mark_q0\" :  \"" << mark_q0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_address0\" :  \"" << out_r_address0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_ce0\" :  \"" << out_r_ce0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_we0\" :  \"" << out_r_we0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_d0\" :  \"" << out_r_d0.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_address1\" :  \"" << out_r_address1.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_ce1\" :  \"" << out_r_ce1.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_we1\" :  \"" << out_r_we1.read() << "\" ";
        mHdltvoutHandle << " , " <<  " \"out_r_d1\" :  \"" << out_r_d1.read() << "\" ";
        mHdltvinHandle << "}" << std::endl;
        mHdltvoutHandle << "}" << std::endl;
        ap_cycleNo++;
    }
}

}

